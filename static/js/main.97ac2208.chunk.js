(this["webpackJsonpoasis-app-frontend"]=this["webpackJsonpoasis-app-frontend"]||[]).push([[0],{128:function(e,t,a){e.exports=a(185)},133:function(e,t,a){},139:function(e,t,a){},142:function(e,t,a){},152:function(e,t,a){e.exports=a.p+"static/media/map.e9993cfc.png"},184:function(e,t,a){},185:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(10),l=a.n(o),i=(a(133),a(227)),c=a(243),s=(a(94),a(18)),m=a(12),u=a(225),d=a(113),p=a(229),g=a(100);a(139);var h=function(){return r.a.createElement("div",{className:"Header",style:{padding:20}},r.a.createElement(u.a,{container:!0,spacing:0},r.a.createElement(u.a,{item:!0,md:!0}),r.a.createElement(u.a,{item:!0,xs:12,md:6},r.a.createElement(g.a,{icon:"hand-holding-water",className:"spl--pb"}),r.a.createElement(d.a,{variant:"h2",component:"h1",gutterBottom:!0,className:"spl--pb"},"Welcome to Oasis"),r.a.createElement(d.a,{variant:"body1",gutterBottom:!0,className:"spl--pb"},"Find for your nearest drinking water and toilet facilities"),r.a.createElement(s.b,{to:"/search",style:{textDecoration:"none"}},r.a.createElement(p.a,{variant:"contained",color:"primary"},"Search locations"))),r.a.createElement(u.a,{item:!0,md:!0})))},E=a(68),f=a(69),v=a(76),b=a(75),w=a(248),y=a(101),k=a.n(y),C=a(233),O=a(232),x=a(247),S=a(245),j=(a(142),function(e){Object(v.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).state={},n.state={email:"",password:""},n}return Object(f.a)(a,[{key:"login",value:function(){console.log("this.state",this.state)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"Login"},r.a.createElement(u.a,{container:!0,spacing:0},r.a.createElement(u.a,{item:!0,md:!0}),r.a.createElement(u.a,{item:!0,xs:12,md:6},r.a.createElement(w.a,null,r.a.createElement(k.a,null)),r.a.createElement(d.a,{variant:"h3",component:"h1",gutterBottom:!0},"Login with Email"),r.a.createElement(d.a,{variant:"body1",gutterBottom:!0},"Enter the email address associated with your account"),r.a.createElement("form",{noValidate:!0},r.a.createElement(S.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(t){return e.setState({email:t.target.value})}}),r.a.createElement(S.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(t){return e.setState({password:t.target.value})}}),r.a.createElement(O.a,{control:r.a.createElement(x.a,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(p.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:function(){return e.login()}},"Continue")),r.a.createElement(u.a,{container:!0},r.a.createElement(u.a,{item:!0,xs:!0},r.a.createElement(C.a,{href:"#",variant:"body1"},"Forgot password?")),r.a.createElement(u.a,{item:!0},"No account.",r.a.createElement(C.a,{href:"#",variant:"body1",gutterBottom:!0}," Create one")))),r.a.createElement(u.a,{item:!0,md:!0})))}}]),a}(n.Component)),N=a(43),W=a(28),R=a(96),L=a(9),M=a(234),T=a(235),F=a(83),P=a(249),D=a(250),B=a(111),I=a(102),A=a.n(I),z=a(73),J=a.n(z),U=a(86),H=a.n(U),q=a(103),K=a.n(q),G=Object(R.a)((function(e){return{grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(W.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(W.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(L.d)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(L.d)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(W.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),sectionDesktop:Object(W.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(W.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})}}));function V(){var e=G(),t=r.a.useState(null),a=Object(N.a)(t,2),n=a[0],o=a[1],l=r.a.useState(null),i=Object(N.a)(l,2),c=i[0],m=i[1],u=Boolean(n),g=Boolean(c),h=function(e){o(e.currentTarget)},E=function(){m(null)},f=function(){o(null),E()},v="primary-search-account-menu",b=r.a.createElement(B.a,{anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},id:v,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:u,onClose:f},r.a.createElement(D.a,{onClick:f},"Profile"),r.a.createElement(D.a,{onClick:f},"My account")),w=r.a.createElement(B.a,{anchorEl:c,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu-mobile",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:g,onClose:E},r.a.createElement(D.a,{onClick:h},r.a.createElement(F.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit"},r.a.createElement(H.a,null)),r.a.createElement("p",null,"Profile")));return r.a.createElement("div",{className:e.grow},r.a.createElement(M.a,{position:"static"},r.a.createElement(T.a,null,r.a.createElement(F.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"open drawer"},r.a.createElement(A.a,null)),r.a.createElement(d.a,{className:e.title,variant:"h6",noWrap:!0},r.a.createElement(s.b,{to:"/",style:{textDecoration:"none"}},"Oasis")),r.a.createElement(p.a,{color:"inherit",component:s.b,to:"/login"},"Login"),r.a.createElement("div",{className:e.search},r.a.createElement("div",{className:e.searchIcon},r.a.createElement(J.a,null)),r.a.createElement(P.a,{placeholder:"Search\u2026",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"}})),r.a.createElement("div",{className:e.grow}),r.a.createElement("div",{className:e.sectionDesktop},r.a.createElement(F.a,{edge:"end","aria-label":"account of current user","aria-controls":v,"aria-haspopup":"true",onClick:h,color:"inherit"},r.a.createElement(H.a,null))),r.a.createElement("div",{className:e.sectionMobile},r.a.createElement(F.a,{"aria-label":"show more","aria-controls":"primary-search-account-menu-mobile","aria-haspopup":"true",onClick:function(e){m(e.currentTarget)},color:"inherit"},r.a.createElement(K.a,null))))),w,b)}var Y=a(104),Z=a.n(Y),$=a(240),Q=a(246),X=a(251),_=a(230),ee=a(236),te=a(237),ae=a(241),ne=a(238);var re=function(e){var t=r.a.useState("drinkable"),a=Object(N.a)(t,2),n=a[0],o=a[1];return console.log(e),r.a.createElement(u.a,{container:!0,spacing:0},r.a.createElement(u.a,{item:!0,xs:12},r.a.createElement(ee.a,{className:"spl-root"},r.a.createElement(te.a,null,r.a.createElement("img",{className:"spl-media",src:"https://images.freeimages.com/images/large-previews/113/water-from-spring-1426253.jpg",title:"Contemplative Reptile"}),r.a.createElement(ne.a,null,r.a.createElement(d.a,{variant:"h5"},"Rating"),r.a.createElement(Z.a,{value:5,max:5,onChange:function(e){return console.log("Rated with value ".concat(e))}}),r.a.createElement(_.a,{component:"fieldset"},r.a.createElement(X.a,{"aria-label":"gender",name:"water",value:n,onChange:function(e){o(e.target.value)},className:"spl-radio"},r.a.createElement(O.a,{value:"drinkable",control:r.a.createElement(Q.a,{color:"primary"}),label:"Drinkable"}),r.a.createElement($.a,null),r.a.createElement(O.a,{value:"treatment",control:r.a.createElement(Q.a,{color:"primary"}),label:"Need treatment"}),r.a.createElement($.a,null),r.a.createElement(O.a,{value:"undrinkable",control:r.a.createElement(Q.a,{color:"primary"}),label:"Undrinkable"}),r.a.createElement($.a,null),r.a.createElement(O.a,{value:"unkown",control:r.a.createElement(Q.a,{color:"primary"}),label:"Unkown"}))))),r.a.createElement(ae.a,null,r.a.createElement(p.a,{size:"small",color:"primary"},"Report a problem"),r.a.createElement(p.a,{size:"small",variant:"contained",color:"primary",disableElevation:!0},"Notify me")))))};var oe=function(e){var t=e.locations;return r.a.createElement(u.a,{container:!0,spacing:3},r.a.createElement(u.a,{item:!0,xs:12},t.name),r.a.createElement(u.a,{item:!0,xs:12},t.status),r.a.createElement(u.a,{item:!0,xs:12},r.a.createElement("ul",null,r.a.createElement("li",{key:t.id},r.a.createElement(s.b,{to:"/location-details/".concat(t.id)},t.id)))))};var le=function(e){return e.locationData.map((function(e){return r.a.createElement(oe,{locations:e})}))},ie=(a(150),a(107)),ce=a.n(ie),se=a(108),me=a.n(se),ue=a(87),de=a.n(ue),pe=a(105),ge=(a(152),a(37)),he=a.n(ge),Ee=a(106),fe=a.n(Ee);a(183);var ve=function(e){var t=e.longitude,a=e.latitude,n=.025*Math.sqrt(Math.random()),r=2*Math.random()*Math.PI,o=a+n*Math.cos(r);return{longitude:t+n*Math.sin(r),latitude:o}},be=function(e){for(var t=[],a=0;a<20;a++){var n=a,r=ve(e),o=r.longitude,l=r.latitude;t.push({type:"Feature",geometry:{type:"Point",coordinates:[o,l]},properties:{id:n,name:"Random Point #".concat(n),description:"description for Random Point #".concat(n)}})}return Promise.resolve({type:"FeatureCollection",features:t})},we=function(e){var t=e.feature.properties,a=t.id,n=t.name,o=t.description;return r.a.createElement("div",{id:"popup-".concat(a),className:"popupdiv"},r.a.createElement("h3",null,n),o)},ye=a(10);he.a.accessToken="pk.eyJ1Ijoic2FuYWVzcGxhc2giLCJhIjoiY2tmYTlwMWpmMHR0cDJ0cHAyOHZhd3V0MSJ9.PmRGRrM4p1wgKavJKm-56A";var ke=function(e){var t=e.searchString,a=Object(n.useRef)(null),o=Object(n.useRef)(new he.a.Popup({offset:10}));return console.log("".concat(t," was given to MapView")),Object(n.useEffect)((function(){var e=new he.a.Map({container:a.current,style:"mapbox://styles/mapbox/streets-v11",center:[-1.9876,51.7405],zoom:12.5});return e.addControl(new he.a.NavigationControl,"bottom-right"),e.addControl(new he.a.GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0}).on("geolocate",(function(e){e.coords.longitude,e.coords.latitude}))),e.addControl(new fe.a({accessToken:he.a.accessToken,mapboxgl:he.a})),e.on("load",(function(){e.addSource("random-points-data",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),e.addLayer({id:"random-points-layer",source:"random-points-data",type:"symbol",layout:{"icon-image":"drinking-water-15","icon-padding":0,"icon-size":1.5,"icon-allow-overlap":!0}})})),e.on("moveend",Object(pe.a)(de.a.mark((function t(){var a,n,r,o;return de.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.getCenter(),n=a.lng,r=a.lat,t.next=3,be({longitude:n,latitude:r});case 3:o=t.sent,e.getSource("random-points-data").setData(o);case 5:case"end":return t.stop()}}),t)})))),e.on("mouseenter","random-points-layer",(function(t){t.features.length&&(e.getCanvas().style.cursor="pointer")})),e.on("mouseleave","random-points-layer",(function(){e.getCanvas().style.cursor=""})),e.on("click","random-points-layer",(function(t){if(t.features.length){var a=t.features[0],n=document.createElement("div");ye.render(r.a.createElement(we,{feature:a}),n),o.current.setLngLat(a.geometry.coordinates).setDOMContent(n).addTo(e)}})),function(){return e.remove()}}),[]),r.a.createElement("div",{className:"map-container",ref:a})},Ce=a(88),Oe=a(231),xe=a(239),Se=a(242);function je(){var e=r.a.useState({water:!0,toilet:!0}),t=Object(N.a)(e,2),a=t[0],n=t[1],o=function(e){n(Object(Ce.a)(Object(Ce.a)({},a),{},Object(W.a)({},e.target.name,e.target.checked)))};return r.a.createElement(_.a,{component:"fieldset"},r.a.createElement(Oe.a,{component:"filterTitle",className:"spl-filterTitle"},"Filter Results"),r.a.createElement(xe.a,null,r.a.createElement(O.a,{control:r.a.createElement(Se.a,{checked:a.water,color:"primary",onChange:o,name:"water"}),label:"Water"}),r.a.createElement(O.a,{control:r.a.createElement(Se.a,{checked:a.toilet,color:"primary",onChange:o,name:"toilet"}),label:"Toilets"})))}var Ne=[{id:1,name:"london",longitude:"51.5074",latitude:" 0.1278",status:"Drinkable",isWater:!1,isWc:!0},{id:2,name:"Santiago",longitude:"54.5074",latitude:" 7.1278",status:"Need traitment",isWater:!0,isWc:!0},{id:3,name:"Santiago",longitude:"94.5074",latitude:" 7.1278",status:"Drinkable",isWater:!0,isWc:!1},{id:4,name:"Santiago",longitude:"04.5074",latitude:" 7.1278",status:"Uknown",isWater:!0,isWc:!0}];var We=function(e){var t=e.searchString;return console.log("".concat(t," was given to Filter")),r.a.createElement(u.a,{container:!0},r.a.createElement(u.a,{item:!0,xs:12,md:12},r.a.createElement(ke,{searchString:t}),r.a.createElement(le,{locationData:Ne})),r.a.createElement(u.a,{item:!0,xs:12,md:12},r.a.createElement(je,{filterResults:function(e){return e.waterOn&&e.wcOn?(console.log("Both filters are ON"),Ne):function(e,t){if(void 0===e)throw new Error("locations is required");if(void 0===t)throw new Error("state is required");var a=[];if(t.waterOn){console.log("water is ON");for(var n=0;n<e.length;n++)e[n].isWater&&a.push(e[n])}else if(t.wcOn){console.log("Toilets is ON");for(var r=0;r<e.length;r++)e[r].isWc&&a.push(e[r])}return console.log(a),a}(Ne,e)}})))},Re=function(e){Object(v.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).handleTextChange=function(e){n.setState({text:e.target.value})},n.state={text:"",geoClicked:!1,saveLocsClicked:!1,searchEntered:!1},n}return Object(f.a)(a,[{key:"handleClick",value:function(e){console.log("".concat(e," Clicked")),"geolocation"===e?(console.log("".concat(e," Clicked2")),this.state.geoClicked=!0):(console.log("".concat(e," Clicked3")),this.state.saveLocsClicked=!0),console.log(this.state.geoClicked.toString()),console.log(this.state.saveLocsClicked.toString()),console.log(this.state.searchEntered.toString()),this.setState({redirect:!0})}},{key:"handleEnterKeyPress",value:function(e){if(13===e.keyCode){var t=e.target.value;console.log("".concat(t,"<ENTER>")),this.setState({searchEntered:!0}),e.target.value=""}}},{key:"render",value:function(){var e=this;if(this.state.redirect&&this.state.geoClicked){return console.log("passing to Filter1 - ".concat("geolocation")),r.a.createElement(We,{searchString:"geolocation"})}if(!this.state.redirect||!this.state.saveLocsClicked){if(this.state.redirect&&this.state.searchEntered){var t={searchString:this.state.text};return console.log("passing to Filter2 - searchString"),r.a.createElement(We,{searchString:t})}return r.a.createElement("div",null,r.a.createElement(u.a,{container:!0,spacing:1,alignItems:"flex-start"},r.a.createElement(u.a,{item:!0,className:"mui-col-md-2 mui-col--md-offset-2"},r.a.createElement(J.a,null)),r.a.createElement(u.a,{item:!0},r.a.createElement(S.a,{className:"textBox",variant:"filled",id:"input-with-icon-grid",label:"Search locations",style:{minWidth:350,maxWidth:800},onChange:this.handleTextChange,onKeyDown:this.handleEnterKeyPress,value:this.state.text}))),r.a.createElement(u.a,{container:!0,spacing:1,alignItems:"flex-start"},r.a.createElement(u.a,{item:!0},r.a.createElement(F.a,{onClick:function(){return e.handleClick("geolocation")}},r.a.createElement(ce.a,null),"Find Nearest Facility"))),r.a.createElement(u.a,{container:!0,spacing:1,alignItems:"flex-start"},r.a.createElement(u.a,{item:!0},r.a.createElement(F.a,{onClick:function(){return e.handleClick("savedLocations")}},r.a.createElement(me.a,null),"Manage Saved Locations"))))}console.log("Into Managed Saved Locations")}}]),a}(n.Component),Le=a(55),Me=a(109),Te=a(110),Fe=a(244);a(184);var Pe=function(){return r.a.createElement(Fe.a,{mt:8},r.a.createElement(d.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(C.a,{color:"inherit",href:"/"},"Splashpool")," ",(new Date).getFullYear(),"."))};Le.b.add(Me.a,Te.a);var De=function(){return r.a.createElement(i.b,{injectFirst:!0},r.a.createElement(s.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(V,null),r.a.createElement(c.a,{maxWidth:"md"},r.a.createElement("div",null,r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(s.b,{to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(s.b,{to:"/locations"},"Locations")),r.a.createElement("li",null,r.a.createElement(s.b,{to:"/search"},"Search")),r.a.createElement("li",null,r.a.createElement(s.b,{to:"/login"},"Login")),r.a.createElement("li",null,r.a.createElement(s.b,{to:"/location-details/:number"},"location-details")))),r.a.createElement(m.c,null,r.a.createElement(m.a,{path:"/locations"},r.a.createElement(We,null)),r.a.createElement(m.a,{path:"/search",component:Re}),r.a.createElement(m.a,{path:"/login",component:j}),r.a.createElement(m.a,{path:"/location-details/:number",component:re}),r.a.createElement(m.a,{path:"/",exact:!0,component:h})))),r.a.createElement(Pe,null))))},Be=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ie(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(De,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/oasis-app-frontend",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/oasis-app-frontend","/service-worker.js");Be?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ie(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Ie(t,e)}))}}()},94:function(e,t,a){}},[[128,1,2]]]);
//# sourceMappingURL=main.97ac2208.chunk.js.map