(this["webpackJsonpoasis-app-frontend"]=this["webpackJsonpoasis-app-frontend"]||[]).push([[0],{140:function(e,a,t){e.exports=t(197)},145:function(e,a,t){},151:function(e,a,t){},154:function(e,a,t){},164:function(e,a,t){e.exports=t.p+"static/media/map.e9993cfc.png"},196:function(e,a,t){},197:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(10),l=t.n(o),c=(t(145),t(232)),i=t(248),s=(t(91),t(18)),m=t(12),u=t(230),d=t(116),p=t(234),E=t(97);t(151);var g=function(){return r.a.createElement("div",{className:"Header",style:{padding:20}},r.a.createElement(u.a,{container:!0,spacing:0},r.a.createElement(u.a,{item:!0,md:!0}),r.a.createElement(u.a,{item:!0,xs:12,md:6},r.a.createElement(E.a,{icon:"hand-holding-water",className:"spl--pb"}),r.a.createElement(d.a,{variant:"h2",component:"h1",gutterBottom:!0,className:"spl--pb"},"Welcome to Oasis"),r.a.createElement(d.a,{variant:"body1",gutterBottom:!0,className:"spl--pb"},"Find for your nearest drinking water and toilet facilities"),r.a.createElement(s.b,{to:"/search",style:{textDecoration:"none"}},r.a.createElement(p.a,{variant:"contained",color:"primary"},"Search locations"))),r.a.createElement(u.a,{item:!0,md:!0})))},h=t(101),f=t(102),v=t(114),b=t(113),w=t(254),y=t(103),k=t.n(y),C=t(238),O=t(237),N=t(253),x=t(251),j=(t(154),function(e){Object(v.a)(t,e);var a=Object(b.a)(t);function t(e){var n;return Object(h.a)(this,t),(n=a.call(this,e)).state={},n.state={email:"",password:""},n}return Object(f.a)(t,[{key:"login",value:function(){console.log("this.state",this.state)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"Login"},r.a.createElement(u.a,{container:!0,spacing:0},r.a.createElement(u.a,{item:!0,md:!0}),r.a.createElement(u.a,{item:!0,xs:12,md:6},r.a.createElement(w.a,null,r.a.createElement(k.a,null)),r.a.createElement(d.a,{variant:"h3",component:"h1",gutterBottom:!0},"Login with Email"),r.a.createElement(d.a,{variant:"body1",gutterBottom:!0},"Enter the email address associated with your account"),r.a.createElement("form",{noValidate:!0},r.a.createElement(x.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(a){return e.setState({email:a.target.value})}}),r.a.createElement(x.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(a){return e.setState({password:a.target.value})}}),r.a.createElement(O.a,{control:r.a.createElement(N.a,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(p.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:function(){return e.login()}},"Continue")),r.a.createElement(u.a,{container:!0},r.a.createElement(u.a,{item:!0,xs:!0},r.a.createElement(C.a,{href:"#",variant:"body1"},"Forgot password?")),r.a.createElement(u.a,{item:!0},"No account.",r.a.createElement(C.a,{href:"#",variant:"body1",gutterBottom:!0}," Create one")))),r.a.createElement(u.a,{item:!0,md:!0})))}}]),t}(n.Component)),W=t(23),R=t(29),S=t(93),M=t(9),L=t(239),D=t(240),F=t(81),T=t(255),B=t(256),P=t(112),z=t(104),I=t.n(z),A=t(73),U=t.n(A),J=t(84),H=t.n(J),q=t(105),G=t.n(q),Y=Object(S.a)((function(e){return{grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(R.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(R.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(M.d)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(M.d)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(R.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),sectionDesktop:Object(R.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(R.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})}}));function K(){var e=Y(),a=r.a.useState(null),t=Object(W.a)(a,2),n=t[0],o=t[1],l=r.a.useState(null),c=Object(W.a)(l,2),i=c[0],m=c[1],u=Boolean(n),E=Boolean(i),g=function(e){o(e.currentTarget)},h=function(){m(null)},f=function(){o(null),h()},v="primary-search-account-menu",b=r.a.createElement(P.a,{anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},id:v,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:u,onClose:f},r.a.createElement(B.a,{onClick:f},"Profile"),r.a.createElement(B.a,{onClick:f},"My account")),w=r.a.createElement(P.a,{anchorEl:i,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu-mobile",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:E,onClose:h},r.a.createElement(B.a,{onClick:g},r.a.createElement(F.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit"},r.a.createElement(H.a,null)),r.a.createElement("p",null,"Profile")));return r.a.createElement("div",{className:e.grow},r.a.createElement(L.a,{position:"static"},r.a.createElement(D.a,null,r.a.createElement(F.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"open drawer"},r.a.createElement(I.a,null)),r.a.createElement(d.a,{className:e.title,variant:"h6",noWrap:!0},r.a.createElement(s.b,{to:"/",style:{textDecoration:"none"}},"Oasis")),r.a.createElement(p.a,{color:"inherit",component:s.b,to:"/login"},"Login"),r.a.createElement("div",{className:e.search},r.a.createElement("div",{className:e.searchIcon},r.a.createElement(U.a,null)),r.a.createElement(T.a,{placeholder:"Search\u2026",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"}})),r.a.createElement("div",{className:e.grow}),r.a.createElement("div",{className:e.sectionDesktop},r.a.createElement(F.a,{edge:"end","aria-label":"account of current user","aria-controls":v,"aria-haspopup":"true",onClick:g,color:"inherit"},r.a.createElement(H.a,null))),r.a.createElement("div",{className:e.sectionMobile},r.a.createElement(F.a,{"aria-label":"show more","aria-controls":"primary-search-account-menu-mobile","aria-haspopup":"true",onClick:function(e){m(e.currentTarget)},color:"inherit"},r.a.createElement(G.a,null))))),w,b)}var V=t(74),Z=t.n(V),$=t(245),Q=t(252),X=t(257),_=t(235),ee=t(241),ae=t(242),te=t(246),ne=t(243);var re=function(e){var a=r.a.useState("drinkable"),t=Object(W.a)(a,2),n=t[0],o=t[1];return console.log(e),r.a.createElement(u.a,{container:!0,spacing:0},r.a.createElement(u.a,{item:!0,xs:12},r.a.createElement(ee.a,{className:"spl-root"},r.a.createElement(ae.a,null,r.a.createElement("img",{className:"spl-media",src:"https://images.freeimages.com/images/large-previews/113/water-from-spring-1426253.jpg",title:"Contemplative Reptile"}),r.a.createElement(ne.a,null,r.a.createElement(d.a,{variant:"h5"},"Rating"),r.a.createElement(Z.a,{value:5,max:5,onChange:function(e){return console.log("Rated with value ".concat(e))}}),r.a.createElement(_.a,{component:"fieldset"},r.a.createElement(X.a,{"aria-label":"gender",name:"water",value:n,onChange:function(e){o(e.target.value)},className:"spl-radio"},r.a.createElement(O.a,{value:"drinkable",control:r.a.createElement(Q.a,{color:"primary"}),label:"Drinkable"}),r.a.createElement($.a,null),r.a.createElement(O.a,{value:"treatment",control:r.a.createElement(Q.a,{color:"primary"}),label:"Need treatment"}),r.a.createElement($.a,null),r.a.createElement(O.a,{value:"undrinkable",control:r.a.createElement(Q.a,{color:"primary"}),label:"Undrinkable"}),r.a.createElement($.a,null),r.a.createElement(O.a,{value:"unkown",control:r.a.createElement(Q.a,{color:"primary"}),label:"Unkown"}))))),r.a.createElement(te.a,null,r.a.createElement(p.a,{size:"small",color:"primary"},"Report a problem"),r.a.createElement(p.a,{size:"small",variant:"contained",color:"primary",disableElevation:!0},"Notify me")))))};var oe=function(e){var a=e.locations;return r.a.createElement(u.a,{container:!0,spacing:3},r.a.createElement(u.a,{item:!0,xs:12},a.name),r.a.createElement(u.a,{item:!0,xs:12},a.status),r.a.createElement(u.a,{item:!0,xs:12},r.a.createElement("ul",null,r.a.createElement("li",{key:a.id},r.a.createElement(s.b,{to:"/location-details/".concat(a.id)},a.id)))))};var le=function(e){return e.locationData.map((function(e){return r.a.createElement(oe,{locations:e})}))},ce=(t(162),t(247)),ie=t(106),se=t.n(ie),me=t(107),ue=t.n(me),de=t(250);var pe=function(){var e=function(e){console.log("".concat(e," Clicked"))},a=Object(n.useState)(""),t=Object(W.a)(a,2),o=t[0],l=t[1];return r.a.createElement("div",{className:"Search"},r.a.createElement(de.a,{pt:6},r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.a,null),r.a.createElement(i.a,{maxWidth:"sm"},r.a.createElement(U.a,null),r.a.createElement(x.a,{className:"textBox spl--tb-colors",variant:"filled",id:"input-with-icon-grid",label:"Search locations",style:{minWidth:350,maxWidth:800},onChange:function(e){return l(e.target.value)},onKeyDown:function(e){13===e.keyCode&&(console.log("".concat(o,"<ENTER>")),l(""))},value:o}))),r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.a,null),r.a.createElement(i.a,{maxWidth:"sm"},r.a.createElement(F.a,{onClick:function(){return e("gelocation")}},r.a.createElement(se.a,null),"Find Nearest Facility"))),r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.a,null),r.a.createElement(i.a,{maxWidth:"sm","align-Items":"flex-start",className:"spl--settingsIconColor"},r.a.createElement(F.a,{onClick:function(){return e("savedLocations")}},r.a.createElement(ue.a,null),"Manage Saved Locations")))))},Ee=t(85),ge=t(236),he=t(244),fe=t(249);function ve(){var e=r.a.useState({water:!0,toilet:!0}),a=Object(W.a)(e,2),t=a[0],n=a[1],o=function(e){n(Object(Ee.a)(Object(Ee.a)({},t),{},Object(R.a)({},e.target.name,e.target.checked)))};return r.a.createElement(_.a,{component:"fieldset"},r.a.createElement(ge.a,{component:"filterTitle",className:"spl-filterTitle"},"Filter Results"),r.a.createElement(he.a,null,r.a.createElement(O.a,{control:r.a.createElement(fe.a,{checked:t.water,color:"primary",onChange:o,name:"water"}),label:"Water"}),r.a.createElement(O.a,{control:r.a.createElement(fe.a,{checked:t.toilet,color:"primary",onChange:o,name:"toilet"}),label:"Toilets"})))}var be=t(86),we=t.n(be),ye=t(108),ke=(t(164),t(38)),Ce=t.n(ke),Oe=t(109),Ne=t.n(Oe);t(195);var xe=function(e){var a=e.longitude,t=e.latitude,n=.025*Math.sqrt(Math.random()),r=2*Math.random()*Math.PI,o=t+n*Math.cos(r);return{longitude:a+n*Math.sin(r),latitude:o}},je=function(e){for(var a=[],t=0;t<20;t++){var n=t,r=xe(e),o=r.longitude,l=r.latitude;a.push({type:"Feature",geometry:{type:"Point",coordinates:[o,l]},properties:{id:n,name:"Random Point #".concat(n),description:"description for Random Point #".concat(n),WC:!0,Water:!0,stars:4,status:"drinkable"}})}return Promise.resolve({type:"FeatureCollection",features:a})},We=function(e){var a=e.feature.properties,t=(a.id,a.name,a.description,a.status),n=a.stars,o=r.a.useState(t),l=Object(W.a)(o,2),c=(l[0],l[1]);return r.a.createElement(u.a,{container:!0,spacing:0},r.a.createElement(u.a,{item:!0,xs:12},r.a.createElement(ee.a,{className:"spl-root"},r.a.createElement(ae.a,null,r.a.createElement("img",{className:"spl-media",src:"https://images.freeimages.com/images/large-previews/113/water-from-spring-1426253.jpg",title:"Contemplative Reptile"}),r.a.createElement(ne.a,null,r.a.createElement(d.a,{variant:"h6"},"Rating"),r.a.createElement(Z.a,{value:n,max:5,onChange:function(e){return console.log("Rated with value ".concat(e))}}),r.a.createElement(_.a,{component:"fieldset"},r.a.createElement(X.a,{"aria-label":"gender",name:"water",value:t,onChange:function(e){c(e.target.value)},className:"spl-radio"},r.a.createElement(O.a,{value:"drinkable",control:r.a.createElement(Q.a,{color:"primary"}),label:"Drinkable"}),r.a.createElement($.a,null),r.a.createElement(O.a,{value:"treatment",control:r.a.createElement(Q.a,{color:"primary"}),label:"Need treatment"}),r.a.createElement($.a,null),r.a.createElement(O.a,{value:"undrinkable",control:r.a.createElement(Q.a,{color:"primary"}),label:"Undrinkable"}),r.a.createElement($.a,null),r.a.createElement(O.a,{value:"unkown",control:r.a.createElement(Q.a,{color:"primary"}),label:"Unkown"}))))),r.a.createElement(te.a,null,r.a.createElement(p.a,{size:"small",color:"primary"},"Report a problem"),r.a.createElement(p.a,{size:"small",variant:"contained",color:"primary",disableElevation:!0},"Notify me")))))},Re=t(10);Ce.a.accessToken="pk.eyJ1Ijoic2FuYWVzcGxhc2giLCJhIjoiY2tmYTlwMWpmMHR0cDJ0cHAyOHZhd3V0MSJ9.PmRGRrM4p1wgKavJKm-56A";var Se=function(){var e=Object(n.useRef)(null),a=Object(n.useRef)(new Ce.a.Popup({offset:[20,0]})),t=new Ce.a.GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0});return Object(n.useEffect)((function(){var n=new Ce.a.Map({container:e.current,style:"mapbox://styles/mapbox/streets-v11",center:[-1.9876,51.7405],zoom:12.5});return n.addControl(new Ce.a.NavigationControl,"bottom-right"),n.addControl(t.on("geolocate",(function(e){e.coords.longitude,e.coords.latitude}))),n.addControl(new Ne.a({accessToken:Ce.a.accessToken,mapboxgl:Ce.a})),n.on("load",(function(){n.addSource("random-points-data",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),n.addLayer({id:"random-points-layer",source:"random-points-data",type:"symbol",layout:{"icon-image":"drinking-water-15","icon-padding":0,"icon-size":1.5,"icon-allow-overlap":!0}})})),n.on("moveend",Object(ye.a)(we.a.mark((function e(){var a,t,r,o;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.getCenter(),t=a.lng,r=a.lat,e.next=3,je({longitude:t,latitude:r});case 3:o=e.sent,n.getSource("random-points-data").setData(o);case 5:case"end":return e.stop()}}),e)})))),n.on("mouseenter","random-points-layer",(function(e){e.features.length&&(n.getCanvas().style.cursor="pointer")})),n.on("mouseleave","random-points-layer",(function(){n.getCanvas().style.cursor=""})),n.on("click","random-points-layer",(function(e){if(e.features.length){var t=e.features[0],o=document.createElement("div");Re.render(r.a.createElement(We,{feature:t}),o),a.current.setLngLat(t.geometry.coordinates).setDOMContent(o).addTo(n)}})),function(){return n.remove()}}),[]),r.a.createElement("div",{className:"map-container",ref:e})},Me=[{id:1,name:"london",longitude:"51.5074",latitude:" 0.1278",status:"Drinkable",isWater:!1,isWc:!0},{id:2,name:"Santiago",longitude:"54.5074",latitude:" 7.1278",status:"Need traitment",isWater:!0,isWc:!0},{id:3,name:"Santiago",longitude:"94.5074",latitude:" 7.1278",status:"Drinkable",isWater:!0,isWc:!1},{id:4,name:"Santiago",longitude:"04.5074",latitude:" 7.1278",status:"Uknown",isWater:!0,isWc:!0}];var Le=function(){return r.a.createElement(u.a,{container:!0},r.a.createElement(u.a,{item:!0,xs:12,md:12},r.a.createElement(Se,null),r.a.createElement(le,{locationData:Me})),r.a.createElement(u.a,{item:!0,xs:12,md:12},r.a.createElement(ve,{filterResults:function(e){return e.waterOn&&e.wcOn?(console.log("Both filters are ON"),Me):function(e,a){if(void 0===e)throw new Error("locations is required");if(void 0===a)throw new Error("state is required");var t=[];if(a.waterOn){console.log("water is ON");for(var n=0;n<e.length;n++)e[n].isWater&&t.push(e[n])}else if(a.wcOn){console.log("Toilets is ON");for(var r=0;r<e.length;r++)e[r].isWc&&t.push(e[r])}return console.log(t),t}(Me,e)}})))},De=t(55),Fe=t(110),Te=t(111);t(196);var Be=function(){return r.a.createElement(de.a,{mt:8},r.a.createElement(d.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(C.a,{color:"inherit",href:"/"},"Splashpool")," ",(new Date).getFullYear(),"."))};De.b.add(Fe.a,Te.a);var Pe=function(){return r.a.createElement(c.b,{injectFirst:!0},r.a.createElement(s.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(K,null),r.a.createElement(i.a,{maxWidth:"md"},r.a.createElement("div",null,r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(s.b,{to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(s.b,{to:"/locations"},"Locations")),r.a.createElement("li",null,r.a.createElement(s.b,{to:"/search"},"Search")),r.a.createElement("li",null,r.a.createElement(s.b,{to:"/login"},"Login")),r.a.createElement("li",null,r.a.createElement(s.b,{to:"/location-details/:number"},"location-details")))),r.a.createElement(m.c,null,r.a.createElement(m.a,{path:"/locations"},r.a.createElement(Le,null)),r.a.createElement(m.a,{path:"/search",component:pe}),r.a.createElement(m.a,{path:"/login",component:j}),r.a.createElement(m.a,{path:"/location-details/:number",component:re}),r.a.createElement(m.a,{path:"/",exact:!0,component:g})))),r.a.createElement(Be,null))))},ze=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ie(e,a){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Pe,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var a="".concat("","/service-worker.js");ze?(!function(e,a){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var n=t.headers.get("content-type");404===t.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ie(e,a)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(a,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Ie(a,e)}))}}()},91:function(e,a,t){}},[[140,1,2]]]);
//# sourceMappingURL=main.9fafd4f2.chunk.js.map